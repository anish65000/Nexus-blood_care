{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VICTUS\\\\OneDrive\\\\Desktop\\\\Nexus blood_care\\\\frontend\\\\src\\\\Component\\\\user\\\\UserRegister.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport registerImage from '../../Assest/img/Register.png';\nimport { useUser } from './Usercontext'; // Import useUser from Usercontext\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserRegister = () => {\n  _s();\n  const {\n    login\n  } = useUser(); // Using the useUser hook to get login function\n  const [user, setUser] = useState({\n    userName: '',\n    userAge: '',\n    userGender: '',\n    userBloodGroup: '',\n    userPhone: '',\n    userEmail: '',\n    userAddress: '',\n    userUserName: '',\n    userPassword: '',\n    userRole: '',\n    userPasswordConfirmation: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setLoading(true);\n      if (!user.userName || !user.userPhone || !user.userEmail || !user.userPassword || !user.userPasswordConfirmation || !user.userRole) {\n        setError('Please fill in all required fields.');\n        return;\n      }\n\n      // Your registration logic...\n      const res = await fetch('http://localhost:5000/register/user', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n      });\n      if (res.ok) {\n        // Assuming login function sets the user as authenticated\n        login();\n        toast.success('Registration successful!');\n      } else {\n        const data = await res.json();\n        toast.error(data.message || 'Registration failed');\n      }\n      setUser({\n        userName: '',\n        userAge: '',\n        userGender: '',\n        userBloodGroup: '',\n        userPhone: '',\n        userEmail: '',\n        userAddress: '',\n        userUserName: '',\n        userPassword: '',\n        userRole: '',\n        userPasswordConfirmation: ''\n      });\n      setError(null);\n    } catch (err) {\n      console.error(err);\n      toast.error(err.message || 'Registration failed. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center bg-lightBlue-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-2xl\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-6 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"mx-auto h-32\",\n              src: registerImage,\n              alt: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-2xl font-bold mb-4 text-center\",\n            children: \"User Registration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-red-500 mb-4\",\n            role: \"alert\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"grid grid-cols-2 gap-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4 col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full col-span-2 mt-4\",\n                disabled: loading,\n                type: \"submit\",\n                children: loading ? 'Registering...' : 'Register'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {\n            position: \"bottom-right\",\n            autoClose: 5000,\n            hideProgressBar: false,\n            newestOnTop: false,\n            closeOnClick: true,\n            rtl: false,\n            pauseOnFocusLoss: true,\n            draggable: true,\n            pauseOnHover: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UserRegister, \"UA519iydlBxhnbYjnFqDlJO01l0=\", false, function () {\n  return [useUser];\n});\n_c = UserRegister;\nexport default UserRegister;\nvar _c;\n$RefreshReg$(_c, \"UserRegister\");","map":{"version":3,"names":["React","useState","ToastContainer","toast","registerImage","useUser","jsxDEV","_jsxDEV","Fragment","_Fragment","UserRegister","_s","login","user","setUser","userName","userAge","userGender","userBloodGroup","userPhone","userEmail","userAddress","userUserName","userPassword","userRole","userPasswordConfirmation","loading","setLoading","error","setError","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","success","data","json","message","err","console","children","className","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","role","onSubmit","disabled","type","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","_c","$RefreshReg$"],"sources":["C:/Users/VICTUS/OneDrive/Desktop/Nexus blood_care/frontend/src/Component/user/UserRegister.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport registerImage from '../../Assest/img/Register.png';\r\nimport { useUser } from './Usercontext'; // Import useUser from Usercontext\r\n\r\nconst UserRegister = () => {\r\n  const { login } = useUser(); // Using the useUser hook to get login function\r\n  const [user, setUser] = useState({\r\n    userName: '',\r\n    userAge: '',\r\n    userGender: '',\r\n    userBloodGroup: '',\r\n    userPhone: '',\r\n    userEmail: '',\r\n    userAddress: '',\r\n    userUserName: '',\r\n    userPassword: '',\r\n    userRole: '',\r\n    userPasswordConfirmation: ''\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      if (!user.userName || !user.userPhone || !user.userEmail || !user.userPassword || !user.userPasswordConfirmation || !user.userRole) {\r\n        setError('Please fill in all required fields.');\r\n        return;\r\n      }\r\n\r\n      // Your registration logic...\r\n      const res = await fetch('http://localhost:5000/register/user', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user),\r\n      });\r\n\r\n      if (res.ok) {\r\n        // Assuming login function sets the user as authenticated\r\n        login();\r\n        toast.success('Registration successful!');\r\n      } else {\r\n        const data = await res.json();\r\n        toast.error(data.message || 'Registration failed');\r\n      }\r\n\r\n      setUser({\r\n        userName: '',\r\n        userAge: '',\r\n        userGender: '',\r\n        userBloodGroup: '',\r\n        userPhone: '',\r\n        userEmail: '',\r\n        userAddress: '',\r\n        userUserName: '',\r\n        userPassword: '',\r\n        userRole: '',\r\n        userPasswordConfirmation: ''\r\n      });\r\n      setError(null);\r\n    } catch (err) {\r\n      console.error(err);\r\n      toast.error(err.message || 'Registration failed. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"min-h-screen flex items-center justify-center bg-lightBlue-100\">\r\n        <div className=\"w-full max-w-2xl\">\r\n          <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n            <div className=\"mb-6 text-center\">\r\n              <img className=\"mx-auto h-32\" src={registerImage} alt=\"Register\" />\r\n            </div>\r\n            <h1 className=\"text-2xl font-bold mb-4 text-center\">User Registration</h1>\r\n            {error && (\r\n              <div className=\"text-red-500 mb-4\" role=\"alert\">\r\n                {error}\r\n              </div>\r\n            )}\r\n            <form onSubmit={handleSubmit} className=\"grid grid-cols-2 gap-4\">\r\n              {/* ... (rest of the form inputs) */}\r\n\r\n              <div className=\"mb-4 col-span-2\">\r\n                <button\r\n                  className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full col-span-2 mt-4\"\r\n                  disabled={loading}\r\n                  type=\"submit\"\r\n                >\r\n                  {loading ? 'Registering...' : 'Register'}\r\n                </button>\r\n              </div>\r\n            </form>\r\n            <ToastContainer position=\"bottom-right\" autoClose={5000} hideProgressBar={false} newestOnTop={false} closeOnClick rtl={false} pauseOnFocusLoss draggable pauseOnHover />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserRegister;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}