{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\VICTUS\\\\OneDrive\\\\Desktop\\\\Nexus blood_care\\\\frontend\\\\src\\\\Component\\\\user\\\\BloodRequest.js\",\n  _s = $RefreshSig$();\n// BloodRequestComponent.js\n\nimport React from 'react';\nimport { useUser } from '.';\nimport { useForm } from 'react-hook-form';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BloodRequestComponent = () => {\n  _s();\n  const {\n    state\n  } = useUser();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm();\n  const onSubmit = async data => {\n    try {\n      console.log('authenticateToken:', state.userData.authenticateToken);\n      const response = await axios.post('http://localhost:5000/login/stf/request', data, {\n        headers: {\n          Authorization: `Bearer ${state.userData.authenticateToken}`\n        }\n      });\n      console.log(response.data);\n      // Handle success or redirect as needed\n    } catch (error) {\n      console.error('Error requesting blood:', error);\n      // Handle error\n    }\n  };\n  if (state.isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"bloodGroup\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Blood Group:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"bloodGroup\",\n          ...register('bloodGroup', {\n            required: true\n          }),\n          className: \"mt-1 p-2 border rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), errors.bloodGroup && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 text-sm\",\n          children: \"Blood group is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"unit\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Unit:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"unit\",\n          ...register('unit', {\n            required: true,\n            min: 1\n          }),\n          className: \"mt-1 p-2 border rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), errors.unit && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 text-sm\",\n          children: \"Please enter a valid unit value\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"patientName\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Patient Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"patientName\",\n          ...register('patientName', {\n            required: true\n          }),\n          className: \"mt-1 p-2 border rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), errors.patientName && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 text-sm\",\n          children: \"Patient name is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"patientAddress\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Patient Address:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"patientAddress\",\n          ...register('patientAddress', {\n            required: true\n          }),\n          className: \"mt-1 p-2 border rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), errors.patientAddress && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 text-sm\",\n          children: \"Patient address is required\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"patientContact\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Patient Contact:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          id: \"patientContact\",\n          ...register('patientContact', {\n            required: true,\n            pattern: /^[0-9]+$/\n          }),\n          className: \"mt-1 p-2 border rounded-md w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), errors.patientContact && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-500 text-sm\",\n          children: \"Please enter a valid contact number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"py-2 px-4 bg-red text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300\",\n          children: \"Request Blood\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please log in to access this feature.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 12\n    }, this);\n  }\n};\n_s(BloodRequestComponent, \"vg5MuVkqTvnJcqdlonVnWp3sXag=\", false, function () {\n  return [useUser, useForm];\n});\n_c = BloodRequestComponent;\nexport default BloodRequestComponent;\nvar _c;\n$RefreshReg$(_c, \"BloodRequestComponent\");","map":{"version":3,"names":["React","useUser","useForm","axios","jsxDEV","_jsxDEV","BloodRequestComponent","_s","state","register","handleSubmit","formState","errors","onSubmit","data","console","log","userData","authenticateToken","response","post","headers","Authorization","error","isLoggedIn","children","className","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","required","bloodGroup","min","unit","patientName","patientAddress","pattern","patientContact","_c","$RefreshReg$"],"sources":["C:/Users/VICTUS/OneDrive/Desktop/Nexus blood_care/frontend/src/Component/user/BloodRequest.js"],"sourcesContent":["// BloodRequestComponent.js\r\n\r\nimport React from 'react';\r\nimport { useUser } from '.';\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios';\r\n\r\nconst BloodRequestComponent = () => {\r\n  const { state } = useUser();\r\n  const { register, handleSubmit, formState: { errors } } = useForm();\r\n\r\n  const onSubmit = async (data) => {\r\n    try {\r\n      console.log('authenticateToken:', state.userData.authenticateToken);\r\n\r\n      const response = await axios.post('http://localhost:5000/login/stf/request', data, {\r\n        headers: {\r\n          Authorization: `Bearer ${state.userData.authenticateToken}`,\r\n        },\r\n      });\r\n\r\n      console.log(response.data);\r\n      // Handle success or redirect as needed\r\n    } catch (error) {\r\n      console.error('Error requesting blood:', error);\r\n      // Handle error\r\n    }\r\n  };\r\n\r\n  if (state.isLoggedIn) {\r\n    return (\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"bloodGroup\" className=\"block text-sm font-medium text-gray-700\">\r\n            Blood Group:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"bloodGroup\"\r\n            {...register('bloodGroup', { required: true })}\r\n            className=\"mt-1 p-2 border rounded-md w-full\"\r\n          />\r\n          {errors.bloodGroup && (\r\n            <span className=\"text-red-500 text-sm\">Blood group is required</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"unit\" className=\"block text-sm font-medium text-gray-700\">\r\n            Unit:\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"unit\"\r\n            {...register('unit', { required: true, min: 1 })}\r\n            className=\"mt-1 p-2 border rounded-md w-full\"\r\n          />\r\n          {errors.unit && (\r\n            <span className=\"text-red-500 text-sm\">Please enter a valid unit value</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"patientName\" className=\"block text-sm font-medium text-gray-700\">\r\n            Patient Name:\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"patientName\"\r\n            {...register('patientName', { required: true })}\r\n            className=\"mt-1 p-2 border rounded-md w-full\"\r\n          />\r\n          {errors.patientName && (\r\n            <span className=\"text-red-500 text-sm\">Patient name is required</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"patientAddress\" className=\"block text-sm font-medium text-gray-700\">\r\n            Patient Address:\r\n          </label>\r\n          <textarea\r\n            id=\"patientAddress\"\r\n            {...register('patientAddress', { required: true })}\r\n            className=\"mt-1 p-2 border rounded-md w-full\"\r\n          />\r\n          {errors.patientAddress && (\r\n            <span className=\"text-red-500 text-sm\">Patient address is required</span>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <label htmlFor=\"patientContact\" className=\"block text-sm font-medium text-gray-700\">\r\n            Patient Contact:\r\n          </label>\r\n          <input\r\n            type=\"tel\"\r\n            id=\"patientContact\"\r\n            {...register('patientContact', { required: true, pattern: /^[0-9]+$/ })}\r\n            className=\"mt-1 p-2 border rounded-md w-full\"\r\n          />\r\n          {errors.patientContact && (\r\n            <span className=\"text-red-500 text-sm\">Please enter a valid contact number</span>\r\n          )}\r\n        </div>\r\n\r\n        <div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"py-2 px-4 bg-red text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-300\"\r\n          >\r\n            Request Blood\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  } else {\r\n    return <p>Please log in to access this feature.</p>;\r\n  }\r\n};\r\n\r\nexport default BloodRequestComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}